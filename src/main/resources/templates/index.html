<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="~{basic :: setContent(~{this::contentFrag})}">
    <th:block th:fragment="contentFrag">

    <article id="article">
        <button class="bannerBtnL"><</button>
        <div class="carousel-wrapper">
            <div class="carousel">
              <img class="cImg active" src="/img/KakaoTalk_Photo_2023-08-24-17-31-37 003.jpeg"/>
              <img class="cImg " src="/img/KakaoTalk_Photo_2023-08-24-17-31-37 002.jpeg"/>
              <img class="cImg " src="/img/KakaoTalk_Photo_2023-08-24-17-31-37 004.jpeg"/>
            </div>
          </div>
        <button class="bannerBtnR">></button>

        <div class="thumbnail_img" style="margin-left:450px;">
            <div class="products" th:each="product, iterStat : ${list}" th:if="${iterStat.index &lt; 3}">
                <a th:href="@{/products/{id}(id=${product.id})}">
                    <img th:src="@{'/uploadfile/'+${product.imagePath}}">
                </a>
                <p th:text="${product.productName}">상품 이름</p>
                <p>가격 : <span  th:text="${product.productPrice}">3,900</span> 원</p>
            </div>
        </div>
        
    </article>
    <!-- article -->
    </th:block>
</th:block>

    <script src="https://kit.fontawesome.com/d2cac4190c.js" crossorigin="anonymous"></script>
    <script>

        const cImgs = document.querySelectorAll('.cImg');
        const prevButton = document.querySelector('.bannerBtnL');
        const nextButton = document.querySelector('.bannerBtnR');
       
        
        prevButton.addEventListener('click', () => {
         const activeIndex = Array.from(cImgs).findIndex(item => item.classList.contains('active'));

        cImgs.forEach(item => {
             item.classList.remove('active');
        });

        const prevIndex = (activeIndex - 1 + cImgs.length) % cImgs.length;
        cImgs[prevIndex].classList.add('active');
        });

        nextButton.addEventListener('click', () => {
        const activeIndex = Array.from(cImgs).findIndex(item => item.classList.contains('active'));

        cImgs.forEach(item => {
             item.classList.remove('active');
        });

        const nextIndex = (activeIndex + 1) % cImgs.length;
        cImgs[nextIndex].classList.add('active');
        });



    </script>
</body>
</html>